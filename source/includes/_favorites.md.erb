# Избранные товары (избранное)

## Получение списка избранного

> Пример кода для получения элементов из списка избранного:

```shell
curl "<%= config[:host] %>/favorites?sid=1"
```

> Ответ будет содержать следующие данные:

```json
{
    "favorites": [
        {
            "id": 1,
            "name": "Product #0",
            "image": null,
            "product": {
                "id": 1,
                "sku": "20002",
                "name": "Product #0",
                "price": 1236.7,
                "original_price": 1236.7,
                "discount": 0,
                "human_volume": "100 г.",
                "items_per_pack": 1,
                "images": []
            }
        },
        {
            "id": 2,
            "name": "Product #28",
            "image": null,
            "product": null
        }
    ],
    "meta": {
        "current_page": 1,
        "next_page": null,
        "total_pages": 1,
        "per_page": 30,
        "total_count": 2
    }
}
```

Перечень элементов из списка избранного можно получить, выполнив запрос:

`GET <%= config[:host] %>/favorites`

Если избранный товар доступен в магазине, то поле `product` элемента списка заполнено

### Параметры запроса

Параметр | Обязательный | Описание
---------| ------------ | --------
`sid`    | Да           | ID магазина для которого будут конкретизироваться элементы списка

## Добавление элемента в список избранного

> Пример кода для добавления элемента в список избранного:

```shell
 curl "<%= config[:host] %>/favorites" \
   -H "Authorization: Token token=#{TOKEN}" \
   -X POST \
   -d "favorite[product_id]=3"
```

> В случае если данные были указаны верно, сервер вернет ответ:

```json
{
    "favorite": {
        "id": 8,
        "name": "Product #2",
        "product": {
            "id": 3,
            "sku": "20004",
            "name": "Product #2",
            "price": 1236.7,
            "original_price": 1236.7,
            "discount": 0,
            "human_volume": "100 г. x 6",
            "items_per_pack": 6,
            "images": [
                {
                    "mini_url": "http://instamart.ru/spree/products/6/mini/2.jpg?1539788944",
                    "small_url": "http://instamart.ru/spree/products/6/small/2.jpg?1539788944",
                    "product_url": "http://instamart.ru/spree/products/6/product/2.jpg?1539788944",
                    "preview_url": "http://instamart.ru/spree/products/6/preview/2.jpg?1539788944",
                    "original_url": "http://instamart.ru/spree/products/6/original/2.jpg?1539788944"
                }
            ]
        },
        "image": {
            "mini_url": "http://instamart.ru/spree/products/6/mini/2.jpg?1539788944",
            "small_url": "http://instamart.ru/spree/products/6/small/2.jpg?1539788944",
            "product_url": "http://instamart.ru/spree/products/6/product/2.jpg?1539788944",
            "preview_url": "http://instamart.ru/spree/products/6/preview/2.jpg?1539788944",
            "original_url": "http://instamart.ru/spree/products/6/original/2.jpg?1539788944"
        }
    }
}
```

Добавить элемент в список избранного можно, выполнив запрос:

`POST <%= config[:host] %>/favorites`

### Параметры запроса

Параметр             | Обязательный | Описание
-------------------- | ------------ | --------
favorite[product_id] | Да           | ИД товара

## Удаление элемента из списока избранного

> Пример кода для удаления элемента из списка избранного:

```shell
curl "<%= config[:host] %>/favorites/8" \
  -X DELETE
```

> Ответ вернет результат с кодом 200

Чтобы удалить элемент из списка избранного, необходимо выполнить запрос:

`DELETE <%= config[:host] %>/favorites/#{ID}`

### Параметры запроса

Параметр | Обязательный | Описание
-------- | ------------ | --------
ID       | Да           | ID элемента списка
