# Ближайшие интервалы доставки

> Пример получения интервалов доставки для конкретного магазина:

```shell
curl "<%= config[:api_host] %>/stores/1/next_deliveries \
  -H "Authorization: Token token=#{TOKEN}"
```

> Ответ:

```json
{
  "next_deliveries": [
    {
      "price": 490.0,
      "summary": "завтра, 09:00-18:00",
      "starts_at": "2020-04-22T09:00:00.000+03:00"
    },
    {
      "price": 490.0,
      "summary": "послезавтра, 09:00-18:00",
      "starts_at": "2020-04-23T09:00:00.000+03:00"
    }
  ],
  "meta": {
    "cargo_weight_limit": 80000
  }
}
```

Чтобы получить ближайшие окна доставки, выполните следующий запрос:

`GET <%= config[:api_host] %>/stores/#{store_id}/next_deliveries`

Данный запрос вернет 3 первых доступных окна доставки для указанного магаизна.
Чтобы получить список грузовых окон доставки, параметр `cargo = true`, для только негрузовых `cargo = false`
При отсуствии параметра `cargo` возвращаются (грузовые + негрузовые)
Для фильтрации окон доставки по подзонам не обходимо передать координаты(`lat`, `lon`)

### Описание параметров запроса

Параметр | Обязательный | Описание
--------- | ------- | -----------
store_id | Да | Идентификатор магазина
cargo | Нет | Признак фильтрации грузых слотов
lat | Нет | Широта
lon | Нет | Долгота

### Структура объекта next_delivery

Атрибут | Описание
--------- | -----------
pice | Стоимость доставки с наценкой
summary | Описание
starts_at | Время начала слота

### Струтура объекта meta

Атрибут | Описание
--------- | -----------
cargo_weight_limit | Ограничение минимального веса для грузовых слотов(возвращается только если `cargo=true`)
