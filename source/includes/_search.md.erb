# Поиск

## Подсказки поиска

> Пример запроса подсказок, для слова "чай"

```shell
curl '<%= config[:host] %>/search/suggestions?rid=1&q=%D1%87%D0%B0%D0%B9'
```
> Ответ будет содержать следующие данные

```json
{
  "taxons": [
    {
      "id": 3,
      "name": "Чай",
      "position": 1,
      "parent_id": 2
    }
  ],
  "products": [
    {
      "id": 1,
      "name": "Чай Lipton Yellow Label",
      "price": 42,
      "original_price": 70,
      "discount": 28,
      "weight": 150.0,
      "human_volume": "10 пак x 6",
      "items_per_pack": 2,
      "images": [
        {
          "mini_url": "/file.png?1370533476",
          "small_url": "/file.png?1370533476",
          "product_url": "/file.png?1370533476"
        }
      ]
    }
  ]
}
```

Для получения списка подсказок поиска, выполните запрос:

`GET <%= config[:host] %>/search/suggestions`

### Параметры запроса

Параметр | Обязательный | Описание
--------- | ------- | -----------
`rid` | Да | ID ритейлера, по которому происходит поиск
`q` | Да | Поисковая фраза

## Результаты поиска

> Пример запроса результатов поиска, для слова "чай"

```shell
curl '<%= config[:host] %>/search/results?rid=1&q=%D1%87%D0%B0%D0%B9'
```
> Ответ будет содержать следующие данные

```json
{
  "products": [
    {
      "id": 1,
      "name": "Чай Lipton Yellow Label",
      "price": 42,
      "original_price": 70,
      "discount": 28,
      "weight": 150.0,
      "human_volume": "10 пак x 6",
      "items_per_pack": 2,
      "images": [
        {
          "mini_url": "/file.png?1370533476",
          "small_url": "/file.png?1370533476",
          "product_url": "/file.png?1370533476"
        }
      ]
    }
  ]
}
```

Для получения результатов поиска, выполните запрос:

`GET <%= config[:host] %>/search/results`

### Параметры запроса

Параметр | Обязательный | Описание
--------- | ------- | -----------
`rid` | Да | ID ритейлера, по которому происходит поиск
`q` | Да | Поисковая фраза
