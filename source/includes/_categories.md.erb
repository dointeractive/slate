# Категории

> Пример кода для получения списка всех категорий

```shell
curl "<%= config[:api_host] %>/categories?sid=1"
```
> Ответ будет содержать следующие данные:

```json
{
  "categories": [{
    "id": 466,
    "type": "department",
    "name": "Чай и кофе",
    "products_count": 25,
    "children": [{
      "id": 187,
      "type": "taxon",
      "name": "Чай",
      "icon": {
        "mini_url": "http://im.dev/spree/taxons/187/mini/%D1%87%D0%B0%D0%B8%CC%86-01.png?1453649106",
        "normal_url": "http://im.dev/spree/taxons/187/normal/%D1%87%D0%B0%D0%B8%CC%86-01.png?1453649106"
      },
      "alt_icon": {
        "url": "http://im.dev/spree/icons/37/original/%D1%87%D0%B0%D0%B8%CC%86-01.svg?1453649106"
      }
    }]
  }],

  "promoted_categoris": []
}
```
API возвращает полную иерархию всех категорий. Ответ содержит два объекта верхего уровня: `categories` и `promoted_categories`.
`categories` – это список всех категорий сайта. `promoted_categories` – список маркетинговых категорий "скидки", "новогоднее предложение" и пр.
Все объекты категорий имеют следующую структуру:

### Структура объекта Category

Атрибут | Описание
--------- | -----------
id | id категории
type | Тип категории: __department__ или __taxon__
name | Название категори
icon | Иконка категории
alt_icon | Альтернатинвая иконка категории
children | Список дочерних категорий

От значения поля `type` зависит способ отображения содержимого категории.
Если `type` содержит значение "department" – для отоброжения содержимого категории нужно использовать API `/v2/departments`. Если `type` содержит "taxon" – нужно использовать API `/v2/products`


Получить список всех категорий можно, выполнив запрос:

`GET <%= config[:api_host] %>/categories`

### Параметры запроса

Параметр | Обязательный | Описание
--------- | ------- | -----------
`sid` | Да | ID магазина для которого необходимо получить список категорий

<aside class="notice">
API обратно совместимо со старой версией API и поддерживает параметр rid - идентификатор ритейлера
</aside>
